# eos-vstu-bot
Бот для eos.vstu.ru, полностью написанный на Java.
Пользовательский интерфейс реализован на Java Swing.

### Основной функционал
Основное назначение - ***имитировать присутсвие пользователя/пользователей в чате 
пары по указанному расписанию***. Бот написан таким образом, чтобы
его можно использовать как API для создания новых ботов/утилит
для ЭИОСа.

### Особенности
* **Простой графический интерфейс**.
* **Полная поддержка чата в GUI**. Можно выбирать аккаунт, с которого
хотите написать сообщение. Поддерживается упоминания в GUI чата - если кто-то из участников чата
упомянул один из ваших аккаунтов командой "Сигнал" или обратился через 
команду "Разговор", то в чате это будет отчетливо видно. 
* **Сохранение чата в лог-файл chat.log**, в логе так же видно упоминания.
* **Мультиаккаунт** на асинхронном HTTP-клиенте с сохранением в json.
* **Возможность задать собственное расписание**, которое сохраняется в json.
* **Времянезависимое расписание.** Синхронизация времени 
происходит при старте программы через NTP-запрос на pool.ntp.org,
и последующие конвертации времени происходят с учетом NTP-смещения
и UTC-смещения, проще говоря - время сохраняется в UTC и не зависит
от локального, установленного на компьютере.
* **Авто-релогин**. Если сессия аккаунтов устаревает, производится повторный вход на сайт.
* **Отказоустойчивость**. Если во время чат-сессии упадет интернет или сайт, то программа
при малейшей возможности будет пытаться восстановить соединение, если
у нее это получится, то произойдет переподключение к чату. Сообщения при этом
не будут отправлены повторно. Также, это касается и перезапуска программы
во время активной чат-сессии.
* **Настраиваемое максимальное время "опоздания"**. Бот может 
    "симулировать" опоздание студента на пару. Время выбирается рандомное -
    от 00:00:00 до указанного в настройке профиля.
* **Управление ботами с помощью чат-скриптов**. Стандартный чат-скрипт бота просто отсылает
при входе бота в чат сообщение '+' от его имени. Но если нужно что-то сложное, то с помощью
приемлемого редактора скриптов с поддержкой компиляции и подсветки синтаксиса
можно написать свой скрипт, который будет задавать "поведение" боту в чате.

## Как установить
* Для работы программа требует установленную на компьютере Java.
 Скачать ее можно [отсюда](https://java.com/ru/download).
* Идем в [releases](https://github.com/Knoblul/eos-vstu-bot/releases),
 качаем последнюю версию.
* Создаем папку, распаковываем в нее скачаный архив релиза.
* Запускаем start.bat если Вы пользуетесь Windows или start.sh 
если пользуетесь другими OS (MacOS, Unix-подобными).

#### Special thanks
- [Google Code](https://github.com/google/)
- [Apache Commons](https://commons.apache.org/)
- [RSyntaxTextArea](https://github.com/bobbylight/RSyntaxTextArea/)
- [jsoup](https://jsoup.org/)
